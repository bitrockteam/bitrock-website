<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started with React Push-based Architecture | Bitrock</title>
    <meta name="description" content="In order to successfully develop and apply innovative technology you need to be able to look beyond the horizon, anticipating trends and recognizing the next standards.">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/logotype.png">
  <link rel="manifest" href="/app.webmanifest">
  <meta name="theme-color" content="#2a2a2a">
  <meta name="author" content="Bitrock">
  <meta name="title" property="og:title" content="Bitrock">
  <meta name="og:description" content="In order to successfully develop and apply innovative technology you need to be able to look beyond the horizon, anticipating trends and recognizing the next standards.">
  <meta name="image" property="og:image" content="/social.png">
    
    <link rel="preload" href="/assets/css/0.styles.b17daab2.css" as="style"><link rel="preload" href="/assets/js/app.1826b723.js" as="script"><link rel="preload" href="/assets/js/5.16fe373e.js" as="script"><link rel="preload" href="/assets/js/31.787c1528.js" as="script"><link rel="preload" href="/assets/js/9.91369f7b.js" as="script"><link rel="prefetch" href="/assets/js/10.1eded6dc.js"><link rel="prefetch" href="/assets/js/11.c912d9a0.js"><link rel="prefetch" href="/assets/js/12.09d69e0b.js"><link rel="prefetch" href="/assets/js/13.1e8463b0.js"><link rel="prefetch" href="/assets/js/14.66b2bd83.js"><link rel="prefetch" href="/assets/js/15.d6ff773e.js"><link rel="prefetch" href="/assets/js/16.09c65213.js"><link rel="prefetch" href="/assets/js/17.a453b3da.js"><link rel="prefetch" href="/assets/js/18.95c4d29c.js"><link rel="prefetch" href="/assets/js/19.71b94f5a.js"><link rel="prefetch" href="/assets/js/2.fb815d92.js"><link rel="prefetch" href="/assets/js/20.1735d7b0.js"><link rel="prefetch" href="/assets/js/21.d59e25a1.js"><link rel="prefetch" href="/assets/js/22.c92c7f3f.js"><link rel="prefetch" href="/assets/js/23.2103b8ae.js"><link rel="prefetch" href="/assets/js/24.4cdb4123.js"><link rel="prefetch" href="/assets/js/25.97fab8d0.js"><link rel="prefetch" href="/assets/js/26.2a00d6f4.js"><link rel="prefetch" href="/assets/js/27.6ecd8c56.js"><link rel="prefetch" href="/assets/js/28.23799554.js"><link rel="prefetch" href="/assets/js/29.36bc4ada.js"><link rel="prefetch" href="/assets/js/3.44cb95ca.js"><link rel="prefetch" href="/assets/js/30.9aac9feb.js"><link rel="prefetch" href="/assets/js/32.dc59d5f2.js"><link rel="prefetch" href="/assets/js/33.fdb02fca.js"><link rel="prefetch" href="/assets/js/34.9e7b6544.js"><link rel="prefetch" href="/assets/js/35.bd6e0931.js"><link rel="prefetch" href="/assets/js/36.7a6f7793.js"><link rel="prefetch" href="/assets/js/37.69944610.js"><link rel="prefetch" href="/assets/js/38.2ea7963c.js"><link rel="prefetch" href="/assets/js/39.69019461.js"><link rel="prefetch" href="/assets/js/4.187cc577.js"><link rel="prefetch" href="/assets/js/40.2a8f1716.js"><link rel="prefetch" href="/assets/js/41.6de9d84a.js"><link rel="prefetch" href="/assets/js/42.263f557c.js"><link rel="prefetch" href="/assets/js/43.803b33e9.js"><link rel="prefetch" href="/assets/js/6.94a49d88.js"><link rel="prefetch" href="/assets/js/7.f5d1f2d5.js"><link rel="prefetch" href="/assets/js/8.a6fd5871.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b17daab2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="cover"><header class="main active"><div class="wrapper"><div class="logo"><a href="/" aria-label="Bitrock logo" class="router-link-active"><!----></a></div> <nav><ul><li><a href="/discover" aria-label="About" class="text-">About
          </a></li><li><a href="/academy" aria-label="Academy" class="text-">Academy
          </a></li><li><a href="https://www.linkedin.com/company/bitrock-srl/jobs/" rel="noopener" target="_blank" aria-label="Join Us" class="text-">Join Us</a></li><li><a href="/blog" aria-label="Blog" class="router-link-active text-">Blog
          </a></li></ul></nav> <button type="button" aria-label="mobile-menu" class="hamburger hamburger--spin"><span class="hamburger-box"><span class="hamburger-inner"></span></span></button></div></header> <main class="content wrapper"><article class="card"><div class="category">TECHNOLOGY</div> <section><div class="body"><h3>Getting Started with React Push-based Architecture</h3> <div class="content__default"><p>When approaching the React world, using Redux or MobX as state management is almost automatic. Or, in any case, the libraries change, but the basic architecture doesn’t: it is always something similar to the Redux Pattern with reducers, actions, selector, middleware, etc.</p> <p>But is there the possibility of using a different architecture? Something with RxJs as with Angular? By doing some research, it seems so. Let's see more in detail what we are talking about.</p> <p>First of all, we need to think outside the classic pull-based pattern and move to something new for those coming from the React world: a push-based architecture.</p> <p>With data-push architectures, view components simply react to asynchronous data change notifications and render the current data values.</p> <p>The library that allows us to manage the store in this way is <a href="https://github.com/datorama/akita" target="_blank" rel="noopener noreferrer">Akita<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <p><em>“Akita is a state management pattern, built on top of RxJS, which takes the idea of multiple data stores from Flux and the immutable updates from Redux, along with the concept of streaming data, to create the Observable Data Stores model.</em>”</p> <p>So basically, Akita enables us to easily build reactive, <em>asynchronous</em>, data-push solutions for our state management needs.</p> <p>Another important concept to add is the one related to the Facades. <strong>Facades</strong> are a programming pattern in which a simpler public interface is provided to mask a composition of internal, more-complex, component usages.</p> <p>In order to build our application, we rely on RxJS and React Hooks; nothing else is needed.</p> <p>Let's now consider a very simple example built on the ideas found in some articles.</p> <p>In our case we need to have a list of users and to be able to interface through the classic CRUD functions.</p> <p>Starting from the well-known create-react-app with the addition of TypeScript, we create a folder that will contain our entities; in this case, it will only have a &quot;user&quot; folder as a child.</p> <p>Inside, we define a simple interface of our &quot;user&quot; entity in the model.ts file:</p> <p><img src="/img/u-1.png" alt=""></p> <p>Let's now start by initializing the store of our entity, creating a &quot;UsersState&quot; interface and then creating a &quot;UsersStore&quot; store by extending the Akita store, and finally exporting it:</p> <p><img src="/img/u-2.png" alt=""></p> <p>At this point, we can create services to manipulate the store, also relying on the methods that an Akita store provides.</p> <p>This is where we can use all our knowledge of RxJS in order to be able to create more complex flows to act on the store.</p> <p><img src="/img/u-3.png" alt=""><br>
Finally, through the &quot;QueryEntity&quot;, we can take the whole store - or just a filtered part - and channel it into an observable stream of RxJS.</p> <p><img src="/img/u-4.png" alt=""></p> <p>Last but not least, the creation of a custom Hooks that will internally manage all issues regarding RxJS, Facades, and Akita.</p> <p>First, we map and expose the services of our &quot;userService&quot;, in this case all.Then, we create the internal state of our custom hook. Finally, we need to build the selectors for `users` and `active` state changes and manage subscriptions with auto-cleanup.</p> <p><img src="/img/u-5.png" alt=""></p> <p>Now our user entity should have everything needed. We import our custom Hooks, and that's it.</p> <p>To play a little bit, let’s divide the application into several components in order to test it. The result? Well, it works!</p> <p><img src="/img/u-6.png" alt=""></p> <p>And here’s the child component:</p> <p><img src="/img/u-7.png" alt=""></p> <p>Here’s how the application works in the browser:</p> <p><img src="/img/gif.gif" alt=""></p> <h3 id="conclusions"><a href="#conclusions" aria-hidden="true" class="header-anchor">#</a> <strong>Conclusions</strong></h3> <p>Although this example is quite simple, the outcomes are pretty surprising. It was really easy - and also quite logical - to connect all the pieces to compose the state management and, as we have seen, no configurations (of any kind) were needed.</p> <p>For those approaching an architecture like this for the first time, the greatest difficulty is certainly represented by RxJS. To write simple services or queries, it may be enough to know the basics of RxJS; however, in case of large applications with complex services, a good knowledge of technology makes a huge (positive difference), really giving an edge. Furthermore, you need to be very careful where and how you use all the various facades in your application. Being in a push pattern, any change of state triggers the React lifecycle in every component that uses our hooks; watching and controlling performance is thus very important.</p> <p>Obviously, this is just the beginning: there is a world of things to say about Akita, RxJS, push-patterns etc, and it would take much more than one simple article to explore all of them.</p> <p>The aim of this contribution was to give you just a little idea of this &quot;new&quot; architecture for state management with React. I hope I’ve hit the target.</p> <p><br><br></p> <p><em>Author: Mattia Ripamonti, UX/UI Engineer @Bitrock</em></p> <p><br><br></p> <p>Useful Resources:</p> <p>1 - <a href="https://medium.com/@thomasburlesonIA/react-facade-best-practices-1c8186d8495a" target="_blank" rel="noopener noreferrer">React Facade Best Practices<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>2 - <a href="https://medium.com/@thomasburlesonIA/https-medium-com-thomasburlesonia-react-hooks-rxjs-facades-4e116330bbe1" target="_blank" rel="noopener noreferrer">React Hooks RxJs Facades<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>3 - <a href="https://medium.com/@thomasburlesonIA/push-based-architectures-with-rxjs-81b327d7c32d" target="_blank" rel="noopener noreferrer">Push Based Architectures with RxJs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>4 - <a href="https://engineering.datorama.com/oop-and-rxjs-managing-state-in-react-with-akita-de981e09307" target="_blank" rel="noopener noreferrer">Managing State in React with Akita<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div></div></section></article></main> <footer id="corporate" class="corporate"><div class="wrapper"><article><div><h4>Corporate</h4> <p><a href="https://www.linkedin.com/company/bitrock-srl/jobs/" target="_blank" rel="noopener">Careers</a> <br> <a href="https://databiz.it/#philosophy" target="_blank" rel="noopener">Group philosophy</a> <br> <a href="https://www.iubenda.com/privacy-policy/81384922" target="_blank" rel="noopener">Privacy policy</a></p></div> <div><h4>Treviso</h4> <p>
           Office and Operational HQ<br> 
           Viale della Repubblica 156/a<br> 
           31100 Treviso (TV)<br>
           Tel: 0422 1600025<br> <a href="mailto:info@bitrock.it">info@bitrock.it</a></p></div> <div><h4>Milano</h4> <p>
          Operational HQ<br>
          Via Borsieri 41<br> 
          20159 Milano (MI)<br>
          Tel: 0422 1600025<br> <a href="mailto:info@bitrock.it">info@bitrock.it</a></p></div> <div><h4>Lugano</h4> <p>
          BITROCK SAGL,<br>
          Via Giacometti 1<br> 
          6900 Lugano <br> <a href="mailto:info@bitrock.it">info@bitrock.it</a></p></div> <div><h4>Follow us</h4> <p><a href="https://www.linkedin.com/company/bitrock-srl/" target="_blank" rel="noopener">Linkedin</a><br> <a href="https://twitter.com/DATABIZit" target="_blank" rel="noopener">Twitter</a></p></div></article></div></footer> <footer class="credits"><div class="wrapper"><article><p><b>Bitrock</b> ©Copyright <span class="year">2020</span>. All rights reserved. P.IVA 10150530961</p></article></div></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.1826b723.js" defer></script><script src="/assets/js/5.16fe373e.js" defer></script><script src="/assets/js/31.787c1528.js" defer></script><script src="/assets/js/9.91369f7b.js" defer></script>
  </body>
</html>
